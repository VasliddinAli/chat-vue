(function(){"use strict";var t={3472:function(t,e,n){var a={};n.r(a);var o=n(9242),s=n(3396);function i(t,e,n,a,o,i){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(r)}var r={},l=n(89);const u=(0,l.Z)(r,[["render",i]]);var c=u,p=n(2483),d=n(7139);const h={class:"chatbox"},g={class:"chatbox-top"},m=(0,s._)("h1",null,"Chat",-1),f={class:"chat-window"},v={class:"msg-box"},w={class:"flr"},y={class:"messages"},b={class:"msg",id:"msg-0"},_={class:"dropdown"},S=(0,s._)("button",{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,s._)("i",{class:"fa-solid fa-ellipsis-vertical"})],-1),O={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},M=["onClick"],k=(0,s._)("i",{class:"fa-solid fa-trash"},null,-1),x=[k],D={class:"date"},U={class:"chat-input add"},C=(0,s._)("img",{src:"https://i.pinimg.com/originals/36/f3/d9/36f3d96d2a5adae3d8b33cd54d262b7f.png",alt:""},null,-1),j=[C];function H(t,e,n,a,i,r){const l=(0,s.up)("styleMenu");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("body",null,[(0,s._)("section",h,[(0,s._)("div",g,[m,(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>r.logout&&r.logout(...t))},"Chiqish")]),(0,s._)("section",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.message,(t=>((0,s.wg)(),(0,s.iD)("article",{key:t.id,class:(0,d.C_)(t.class),id:"msg-1"},[(0,s._)("div",v,[(0,s._)("div",w,[(0,s._)("div",y,[(0,s._)("p",b,(0,d.zw)(t.msg),1),(0,s._)("div",_,[S,(0,s._)("ul",O,[(0,s._)("li",{onClick:e=>r.deleteMessage(t.id),class:"dropdown-item"},x,8,M)])]),(0,s._)("p",D,(0,d.zw)(t.date),1)])])])],2)))),128))]),(0,s._)("form",U,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Enter message","onUpdate:modelValue":e[1]||(e[1]=t=>i.msg=t)},null,512),[[o.nr,i.msg]]),(0,s._)("button",{type:"submit",onClick:e[2]||(e[2]=(...t)=>r.addMessage&&r.addMessage(...t))},j)])])]),(0,s.Wm)(l)],64)}n(7658);var Z=n(6943),$={data(){return{timer:null,msg:"",class:"msg-container",message:[]}},methods:{logout(){localStorage.clear(),this.$router.push({name:"SignUp"})},async addMessage(t){if(t.preventDefault(),this.msg){let t=JSON.parse(localStorage.getItem("user-info"));const e=await Z.Z.post("https://chat-api.up.railway.app/message",{date:this.date,msg:this.msg,class:this.class,msg_id:t.phone},this.msg="");201==e.status&&this.loadData()}},async deleteMessage(t){let e=await Z.Z["delete"]("https://chat-api.up.railway.app/message/"+t);200==e.status&&this.loadData()},async loadData(){let t=localStorage.getItem("user-info");t||this.$router.push({name:"SignUp"});let e=await Z.Z.get("https://chat-api.up.railway.app/message");this.message=e.data;let n=document.querySelector(".chat-window"),a=n.scrollHeight;n.scrollTop=a}},async mounted(){let t=new Date;this.date=`${t.getHours()}:${t.getMinutes()}`,this.loadData(),this.timer=setInterval((()=>{this.loadData()}),500)},components:{styleMenu:a["default"]}};const I=(0,l.Z)($,[["render",H]]);var P=I;const T={class:"register"},E=(0,s._)("h1",null,"Sign Up",-1);function V(t,e,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",T,[E,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.name=t),id:"name",type:"text",placeholder:"Enter name"},null,512),[[o.nr,i.name]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.phone=t),id:"phone",type:"text",placeholder:"Enter phone"},null,512),[[o.nr,i.phone]]),(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>r.signUp&&r.signUp(...t))},"Sign Up")])}var q={data(){return{name:"",phone:""}},methods:{async signUp(){if(this.name&&this.phone){let t=await Z.Z.post("https://chat-api.up.railway.app/user",{name:this.name,phone:this.phone});201==t.status&&(localStorage.setItem("user-info",JSON.stringify(t.data)),this.$router.push({name:"Home"}))}}},mounted(){{let t=localStorage.getItem("user-info");t&&this.$router.push({name:"Home"})}}};const z=(0,l.Z)(q,[["render",V]]);var B=z;const J=[{path:"/",name:"Home",component:P},{path:"/sign-up",name:"SignUp",component:B}],N=(0,p.p7)({history:(0,p.PO)("/"),routes:J});var Y=N;(0,o.ri)(c).use(Y).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,s){if(!a){var i=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],s=t[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(r=!1,s<i&&(i=s));if(r){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[a,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,i=a[0],r=a[1],l=a[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var c=l(n)}for(e&&e(a);u<i.length;u++)s=i[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},a=self["webpackChunknew_app"]=self["webpackChunknew_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(3472)}));a=n.O(a)})();
//# sourceMappingURL=app.71dc5a21.js.map